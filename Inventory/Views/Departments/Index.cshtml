@model IEnumerable<Inventory.Models.Department>

@{
    ViewBag.Title = "Index";
}

<title>Departments Table</title>

<!-- Tell the browser to be responsive to screen width -->
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Ionicons -->
<link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
<!-- Google Font: Source Sans Pro -->
<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700" rel="stylesheet">



<!-- Content Header (Page header) -->
<section class="content-header">
    <div class="container-fluid">
        <div class="row mb-2">
            <div class="col-sm-6">
                <h2>Departments Table</h2>
            </div>
            <div class="col-sm-6">
                <ol class="breadcrumb float-sm-right">
                    <li class="breadcrumb-item"><a href="#">Home</a></li>
                    <li class="breadcrumb-item active">Departments</li>
                </ol>
            </div>
        </div>
    </div><!-- /.container-fluid -->
</section>

<!-- Main content -->
<section class="content">
    <div class="row">
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    @Html.ActionLink(" Create New", "Create", null, new { @class = "btn btn-info fa fa-plus" })
                </div>
                <!-- /.card-header -->
                <div class="card-body">
                    <table id="example1" class="table table-bordered table-striped">
                        <thead>
                            <tr>
                                <th>Department Name</th>
                                <th>Created By</th>
                                <th>Updated By</th>
                                <th>Created At</th>
                                <th>Updated At</th>
                                <th>Priority</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                    </table>
                </div>
                <!-- /.card-body -->
            </div>
            <!-- /.card -->
        </div>
        <!-- /.col -->
    </div>
    <!-- /.row -->
</section>
<!-- /.content -->
@Styles.Render("~/Content/styles")
@Scripts.Render("~/Content/scripts")

<!--font-awesome -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />

@section scripts{


    <script>
        $(document).ready(function () {
            $('#example1').dataTable({

                "paging": true,
                "lengthChange": true,
                "searching": true,
                "ordering": true,
                "autoWidth": true,

                "ajax": {
                    "url": "/Departments/GetData",
                    "type": "GET",
                    "datatype": "json"
                },
                "columns": [
                    { "data": "Dep_Nam","width":"auto" },
                    { "data": "Created_By","width":"auto" },
                    { "data": "Updated_By","width":"auto" },
                    { "data": "Created_At","width":"auto" },
                    { "data": "Updated_At","width":"auto" },
                    { "data": "Priority","width":"auto" },
                    { "data": "Dep_Id", "render": function (data, type, full, meta) {
                         return '<a class="btn btn-success btn-sm fa fa-pencil" href="@Url.Action("Edit","Departments")?id=' + data + '" class="editDepartment"> Edit</a> | <a class="btn btn-secondary btn-sm fa fa-info" href="@Url.Action("Details","Departments")?id=' + data + '" class="detailsDepartment"> Details</a> | <a class="btn btn-danger btn-sm fa fa-trash" href="@Url.Action("Delete","Departments")?id=' + data + '" class="deleteDepartment"> Delete</a>';
                    },
                        "orderable": false,
                        "searchable":false,
                        "width":"250px"
                    }
                ]
            });
        });
    </script>


}
